
<div class="content-section-b" style="padding: 20px 0px 100px 0px">
    <div class="container">
        <hr>
        <!-- blog post CTA -->
        <div class="row col-md-12">
            <h3 class="storySubheading">
                Want to find out more about data visualisation in schools? Enter your email address below to sign-up to our monthly newsletter on everything data in education!
            </h3>
            <form role="form" method="post" >
                <div class="form-group" style="max-width: 600px ">
                    <div class="input-group">   
                        <input type="text" name="InputEmail" id="InputEmail" class="form-control" placeholder="Email" required>
                        <span class="input-group-addon"><i class="form-control-feedback"></i></span>
                    </div>
                </div>
                <div>
                    <button type="button" name="submit" id="subscribe_submit" class="btn wow tada btn-primary Lumen-text" style="border-radius: 8px">Subscribe</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    $('#subscribe_submit').click(function(){
        var email = $('#InputEmail').val();
        if(email==""){
            alert("Please fill in all fields before submitting.");
            return false;
        }
        if(!isEmail(email)){
            alert("Please enter a valid email address.");
            return false;
        }
        $.ajax({
            type: "POST",
            url: "https://vizi.school/website/message",
            crossDomain: true,
            dataType: 'json',
            data: { 
                    "message_subscribe" : email,
                    
                  },
            success: function( msg ) {
                window.location.href="https://vizi.education/Thanks.html";
            },
              error: function(){
                window.location.href="https://vizi.education/Thanks.html";
              }
        }); 
    });
    function isEmail(email) {
      var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      return regex.test(email);
    }
</script>